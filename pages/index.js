import fetch from 'isomorphic-unfetch'; import Link from 'next/link'; import Layout from '../components/Layout'; const Index = (props) => ( <Layout> <h1>Produkter</h1> {props.products.map((product) => ( <div key={product.id}> <h2>{product.name}</h2> <p>{product.description}</p> <p>Price: {product.price}</p> </div> ))} <Link href='/admin'> <a>GÃ¥ til Admin</a> </Link> </Layout>); Index.getInitialProps = async function() { const res = await fetch('http://localhost:3000/api/products'); const products = await res.json(); return { products }; }; export default Index;