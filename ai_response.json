{
  "commit_message": "Add basic variant fields to product display with tests",
  "unified_diff": "--- pages/index.js\n+++ pages/index.js\n@@ -1,5 +1,6 @@\n import React from 'react';\n import products from '../data/products.json';\n \n const HomePage = () => {\n+  const renderVariants = (variants) => {\n+    return variants.map((variant) => (\n+      <li key={variant.id}>{variant.name} - Price: ${variant.price}</li>\n+    ));\n+  };\n   return (\n     <div>\n       <h1>Product Inventory Management</h1>\n       <ul>\n         {products.map((product) => (\n           <li key={product.id}>\n             <h2>{product.name}</h2>\n             <p>{product.description}</p>\n             <p>Price: ${product.price}</p>\n             {product.variants && product.variants.length > 0 && (\n               <div>\n                 <h3>Variants:</h3>\n                 <ul>\n-                  {product.variants.map((variant) => (\n-                    <li key={variant.id}>{variant.name} - Price: ${variant.price}</li>\n-                  ))}\n+                  {renderVariants(product.variants)}\n                 </ul>\n               </div>\n             )}\n           </li>\n         ))}\n       </ul>\n     </div>\n   );\n };\n \n export default HomePage;\n",
  "files": [
    {
      "path": "tests/index.test.js",
      "content": "import { render, screen } from '@testing-library/react';\nimport HomePage from '../pages/index';\n\nconst mockProducts = [\n  {\n    id: 1,\n    name: 'Product 1',\n    description: 'Description 1',\n    price: 100,\n    variants: [\n      { id: 'v1', name: 'Variant 1', price: 90 },\n      { id: 'v2', name: 'Variant 2', price: 95 },\n    ],\n  },\n];\n\ntest('renders product with variants', () => {\n  render(<HomePage products={mockProducts} />);\n  expect(screen.getByText(/Product Inventory Management/i)).toBeInTheDocument();\n  expect(screen.getByText(/Product 1/i)).toBeInTheDocument();\n  expect(screen.getByText(/Variant 1/i)).toBeInTheDocument();\n  expect(screen.getByText(/Variant 2/i)).toBeInTheDocument();\n});\n"
    },
    {
      "path": "package.json",
      "content": "{\n  \"name\": \"next-pim-app\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"NODE_OPTIONS=--openssl-legacy-provider next build\",\n    \"start\": \"next start\",\n    \"test\": \"jest\"\n  },\n  \"dependencies\": {\n    \"next\": \"10.2.3\",\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\",\n    \"axios\": \"^1.11.0\",\n    \"isomorphic-unfetch\": \"^3.1.0\",\n    \"@testing-library/react\": \"^12.1.5\",\n    \"@testing-library/jest-dom\": \"^5.16.4\",\n    \"jest\": \"^27.0.6\"\n  }\n}"
    }
  ]
}